<!DOCTYPE html>
<html>
<head>
  <!-- Standard Meta -->
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
  <link href='http://fonts.googleapis.com/css?family=Roboto:400,300,500,700&subset=latin,latin-ext' rel='stylesheet' type='text/css'>

  <!-- Site Properities -->
  <title>React Tagging Component</title>

  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
  <link href="semantic.css" rel="stylesheet">
  <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
  <script src="semantic.min.js"></script>
  <link href="style.css" rel="stylesheet">
  <link href="site.css" rel="stylesheet">
  <link href="prism.css" rel="stylesheet">

  <script>
  $(document)
    .ready(function() {

      // fix menu when passed
      $('.masthead')
        .visibility({
          once: false,
          onBottomPassed: function() {
            $('.fixed.menu').transition('fade in');
          },
          onBottomPassedReverse: function() {
            $('.fixed.menu').transition('fade out');
          }
        })
      ;

      // create sidebar and attach to menu open
      $('.ui.sidebar')
        .sidebar('attach events', '.toc.item')
      ;

    })
  ;
  </script>
</head>
<body>

<!-- Following Menu -->
<div class="ui large top fixed menu transition hidden">
  <div class="ui container">
    <a class="active item">Home</a>
    <a class="item" href="#examples">Examples</a>
    <a class="item" href="#apidocs">Api Docs</a>
    <a class="item" href="https://github.com/morzzz007/react-tagging">Fork on GitHub</a>
  </div>
</div>

<!-- Page Contents -->
<div>
  <div class="ui inverted vertical masthead center aligned segment">

    <div class="ui container">
      <div class="ui large secondary inverted pointing menu">
        <a class="toc item">
          <i class="fa fa-bars"></i>
        </a>
        <a class="active item">Home</a>
        <a class="item" href="#examples">Examples</a>
        <a class="item" href="#apidocs">Api Docs</a>
        <div class="right item">
          <a class="ui inverted button" href="https://github.com/morzzz007/react-tagging">Fork on GitHub</a>
        </div>
      </div>
    </div>

    <div class="ui container">
      <img class="logo-image" src="logo.png" alt="React Tagging">
      <h2 class="subheader">React tagging component with suggestions</h2>
      <a class="npm ui inverted huge button">npm install react-tagging</a>
    </div>

  </div>

    <div class="ui middle aligned stackable grid container howto">
      <h1 class="ui dividing header u-margin-t25">How To Use</h1>

      <div class="row">
        <div class="eight wide column">
          <p><span class="ui circular label huge u-margin-r10">1</span> Install with npm</p>
        </div>
        <div class="eight wide column">
          <pre><code class="language-javascript">npm install react-tagging</code></pre>
        </div>
      </div>   

      <div class="row">
        <div class="eight wide column">
          <p><span class="ui circular label huge u-margin-r10">2</span> Require it in a JSX file</p>
        </div>
        <div class="eight wide column">
          <pre><code class="language-javascript">const React = require('react');
const ReactTagging = require('react-tagging');</code></pre>
        </div>
      </div>  

      <div class="row">
        <div class="eight wide column">
          <p><span class="ui circular label huge u-margin-r10">3</span> Use it</p>
        </div>
        <div class="eight wide column">
          <pre><code class="language-javascript">function onChangeFunction(newVal, oldVal) {
  console.log('Changed from', oldVal, ' to ', newVal);
}

React.render(React.createElement(ReactTagging, { onChange: onChangeFunction }), document.getElementById('insertYourIdHere'));</code></pre>
        </div>
      </div>
    </div>

  <div class="ui grid container" name="examples">
    <div class="row">
      <div class="column">
        <h1 class="ui dividing header">Simple input without suggestions</h1>
        <div class="ui pointing menu">
          <a class="active item" data-tab="expl_1"> <i class="fa fa-play icon"></i> Live Example</a>
          <a class="item" data-tab="cd_1"> <i class="fa fa-code icon"></i> Source</a>
        </div>
        <div class="ui active tab segment" data-tab="expl_1">
          <div id="renderSimpleReactTaggingHere"></div>
        </div>
        <div class="ui tab segment" data-tab="cd_1">
          <div>
            <pre>
              <code class="language-javascript">
function onChangeFunction(newVal, oldVal) {
  console.log('Changed from', oldVal, ' to ', newVal);
}

React.render(
  React.createElement(
    ReactTagging, { tags: [], suggestions: [], onChange: onChangeFunction }),
    document.getElementById('renderSimpleReactTaggingHere')
);</code>
            </pre>
          </div>
        </div>
      </div>
    </div>      

    <div class="row">
      <div class="column">
        <h1 class="ui dividing header">Using promises to validate input</h1>
        <div class="ui pointing menu">
          <a class="active item" data-tab="expl_2"> <i class="fa fa-play icon"></i> Live Example</a>
          <a class="item" data-tab="cd_2"> <i class="fa fa-code icon"></i> Source</a>
        </div>
        <div class="ui active tab segment" data-tab="expl_2">
          <div id="renderSimplePromiseReactTaggingHere"></div>
        </div>
        <div class="ui tab segment" data-tab="cd_2">
          <div>
            <pre>
              <code class="language-javascript">
function promiseValidation(data) {
  return new Promise(resolve => {
    // do someting with the data, the resolved object will be inserted into the tags array
    data.hello = 'world';
    resolve(data);
  });
}

React.render(React.createElement(
  ReactTagging, { tags: [], suggestions: [], onChange: onChangeFunction, onAdd: promiseValidation}),
  document.getElementById('renderSimplePromiseReactTaggingHere')
);</code>
            </pre>
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="column">
        <h1 class="ui dividing header">Using predefined array of suggestions (countries)</h1>
        <div class="ui pointing menu">
          <a class="active item" data-tab="expl_3"> <i class="fa fa-play icon"></i> Live Example</a>
          <a class="item" data-tab="cd_3"> <i class="fa fa-code icon"></i> Source</a>
        </div>
        <div class="ui active tab segment" data-tab="expl_3">
          <div id="renderCountriesReactTaggingHere"></div>
        </div>
        <div class="ui tab segment" data-tab="cd_3">
          <div>
            <pre>
              <code class="language-javascript">
const sampleSuggestions = [
  'Afghanistan',
  'Albania',
  'Algeria',
  'American Samoa',
  ...
  'Zimbabwe'
]

React.render(React.createElement(
  ReactTagging, { tags: [{ value: 'Hungary'}], suggestions: sampleSuggestions, onChange: onChangeFunction}), 
  document.getElementById('renderCountriesReactTaggingHere')
);</code>
            </pre>
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="column">
        <h1 class="ui dividing header">AJAX suggestions using ES6 Promise, IE11+ (Fruits)</h1>
        <div class="ui pointing menu">
          <a class="active item" data-tab="expl_4"> <i class="fa fa-play icon"></i> Live Example</a>
          <a class="item" data-tab="cd_4"> <i class="fa fa-code icon"></i> Source</a>
        </div>
        <div class="ui active tab segment" data-tab="expl_4">
          <div id="renderMoviesReactTaggingHere"></div>
        </div>
        <div class="ui tab segment" data-tab="cd_4">
          <div>
            <pre>
              <code class="language-javascript">
function ajaxRequestES6(text) {
  const requestPromise = new Promise(resolve => {
    $.get( 'http://morz.hu/api/fruits.php', { q: text } ).done( data => {
      resolve(data);
    });
  });

  return requestPromise;
}

React.render(React.createElement(
  ReactTagging, { suggestions: ajaxRequestES6, onChange: onChangeFunction}), 
  document.getElementById('renderMoviesReactTaggingHere')
);</code>
            </pre>
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="column">
        <h1 class="ui dividing header">AJAX suggestions jQuery (Fruits)</h1>
        <div class="ui pointing menu">
          <a class="active item" data-tab="expl_5"> <i class="fa fa-play icon"></i> Live Example</a>
          <a class="item" data-tab="cd_5"> <i class="fa fa-code icon"></i> Source</a>
        </div>
        <div class="ui active tab segment" data-tab="expl_5">
          <div id="renderMoviesJqueryReactTaggingHere"></div>
        </div>
        <div class="ui tab segment" data-tab="cd_5">
          <div>
            <pre>
              <code class="language-javascript">
function ajaxRequestJQuery(text) {
  const requestPromise = $.Deferred();

  $.get( 'http://morz.hu/api/fruits.php', { q: text } ).done( data => {
    requestPromise.resolve(data);
  });

  return requestPromise;
}

React.render(React.createElement(
  ReactTagging, { suggestions: ajaxRequestJQuery, onChange: onChangeFunction}), 
  document.getElementById('renderMoviesJqueryReactTaggingHere')
);</code>
            </pre>
          </div>
        </div>
      </div>
    </div>

  </div>

  <div class="ui middle aligned stackable grid container howto" name="apidocs">
    <h1 class="ui dividing header u-margin-t25">Api Docs</h1>

    <div class="row">
      <table class="ui celled padded table">
        <thead>
          <tr>
            <th class="single line">Name</th>
            <th>Type</th>
            <th>Info</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>onChange</td>
            <td class="single line"><div class="ui teal horizontal label">function(newVal, oldVal)</div></td>
            <td>The function to call when a new tag added or removed. <div class="ui blue horizontal label">newVal</div> contains the current value of the tags, <div class="ui blue horizontal label">oldVal</div> contains the previous value of the tags.</td>
          </tr>
          <tr>
            <td>addKeys</td>
            <td class="single line">Array</td>
            <td>Array of keyCodes, defaults to <div class="ui blue horizontal label">Enter (13)</div></td>
          </tr>
          <tr>
            <td>removeKeys</td>
            <td class="single line">Array</td>
            <td>Array of keyCodes, defaults to <div class="ui blue horizontal label">Backspace and Delete (46, 8)</div></td>
          </tr>
          <tr>
            <td>upKey</td>
            <td class="single line">Number</td>
            <td>KeyCode that navigates up in the suggestions dropdown, defaults to <div class="ui blue horizontal label">Up arrow (38)</div></td>
          </tr>
          <tr>
            <td>downKey</td>
            <td class="single line">Number</td>
            <td>KeyCode that navigates down in the suggestions dropdown, defaults to <div class="ui blue horizontal label">Down arrow (40)</div></td>
          </tr>
          <tr>
            <td>suggestions</td>
            <td class="single line">Array / <div class="ui teal horizontal label">function(searchString)</div></td>
            <td>Suggestions to show in the dropdown menu. If it's a function it must return a promise with a <div class="ui blue horizontal label">then()</div> method. See the fruits example for sample implementation.</td>
          </tr>
          <tr>
            <td>tags</td>
            <td class="single line">Array</td>
            <td>Pre-selected tags.</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <script src="sample.js"></script>
  <script src="prism.js"></script>
  <script type="text/javascript">

    (function(){

      var parallax = document.querySelector(".logo-image"),
          text = document.querySelector(".subheader")
          npm = document.querySelector(".npm")
          speed = 0.42;

      window.onscroll = function(){
          var windowYOffset = window.pageYOffset
          if (windowYOffset > 500) return;

          var translate = "translateY(" + (windowYOffset * speed) + "px)";
              opacity = 1-(windowYOffset * speed) /50;


          parallax.style.transform = translate;
          text.style.opacity = opacity;
          npm.style.opacity = opacity + 0.2;

      };

      $('.menu .item').tab();

    })();

  </script>
</body>
</html>